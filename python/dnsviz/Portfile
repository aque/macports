# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           python 1.0
PortGroup           github 1.0

github.setup        dnsviz dnsviz 0.6.3 v

name                dnsviz
categories-append   security sysutils net
platforms           darwin
license             GPL-2
maintainers         gmail.com:allan.que openmaintainer
description         ${name} is a tool suite for analysis and visualization of Domain \
                    Name System (DNS) behavior
long_description    ${name} is a tool suite for analysis and visualization of Domain \
                    Name System (DNS) behavior, including its security extensions \
                    (DNSSEC). This tool suite powers the Web-based analysis \
                    available at http://dnsviz.net/.

homepage            http://dnsviz.net/

conflicts           ${name}-devel

checksums           rmd160  58ee57c72e89d4005975b6792c26f7e30fdb7b94 \
                    sha256  8be057f184fd451921af357e2ef32bc9a3d6a12710b33b99554ea5a7e922bdf8

python.default_version  27

depends_lib-append  port:py${python.version}-dnspython \
                    port:py${python.version}-pygraphviz \
                    port:py${python.version}-m2crypto

post-destroot {
    # move man pages to correct location
    xinstall -m 644 {*}[glob ${destroot}${python.prefix}/share/man/man1/*] \
        ${destroot}${prefix}/share/man/man1
    file delete -force ${destroot}${python.prefix}/share/man/man1
}

subport ${name}-devel {
    github.setup    dnsviz dnsviz 48cb8a6577119c4dbace8c67596c47b2916319ed
    version         20161005

    conflicts       ${name}

    checksums       rmd160  da7241c5b3c88caaab2878058a314af784dc6c18 \
                    sha256  14883e5979829790da3a30e01bd37535898768cda47521a26c69360dd52d6f03
}
