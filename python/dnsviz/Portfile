# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           python 1.0
PortGroup           github 1.0

github.setup        dnsviz dnsviz 0.6.4 v

name                dnsviz
categories-append   security sysutils net
platforms           darwin
license             GPL-2
maintainers         gmail.com:allan.que openmaintainer
description         ${name} is a tool suite for analysis and visualization of Domain \
                    Name System (DNS) behavior
long_description    ${name} is a tool suite for analysis and visualization of Domain \
                    Name System (DNS) behavior, including its security extensions \
                    (DNSSEC). This tool suite powers the Web-based analysis \
                    available at http://dnsviz.net/.

homepage            http://dnsviz.net/

conflicts           ${name}-devel

checksums           rmd160  4602ec975e86c692657ef79da8f38364d90140cf \
                    sha256  6e35c5d2f9def0ea3884b68155825ea10223b04096969d851943317cc7e3bbe4

python.default_version  27

depends_lib-append  port:py${python.version}-dnspython \
                    port:py${python.version}-pygraphviz \
                    port:py${python.version}-m2crypto

post-destroot {
    # move man pages to correct location
    xinstall -m 644 {*}[glob ${destroot}${python.prefix}/share/man/man1/*] \
        ${destroot}${prefix}/share/man/man1
    file delete -force ${destroot}${python.prefix}/share/man/man1
}

subport ${name}-devel {
    github.setup    dnsviz dnsviz d953c7c6756390a9c8a8a4f207b96d501a5be71d
    version         20161109

    conflicts       ${name}

    checksums       rmd160  0dd55686eab558048516ba957ec6be087a9b95a1 \
                    sha256  b651a53dc516a1978e856482f8ca2c42e49802bb799500c0aaadaf315edfd1f1
}
