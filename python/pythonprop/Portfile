# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           github 1.0

name                pythonprop
version             0.21
categories          python science
platforms           darwin
license             GPL-2
maintainers         gmail.com:allan.que openmaintainer
description         python scripts designed to work with voacap
long_description    pythonProp is a collection of Python scripts designed to work \
                    with VOACAP, allowing users to create input files using a Graphical \
                    User Interface and plot output files.
homepage            http://www.qsl.net/h/hz1jw/pythonprop

github.setup        jawatson pythonprop 0.21 v

checksums           rmd160  eafb2a4dbb498274523ec96476bc6beab803ca42 \
                    sha256  d6c6f604b973bf5371fbcc34c86a11332cf9bc51bfa7cd6c0d4921b74e72dc4d

variant python34 conflicts python35 description {Use python 3.4} {}

variant python35 conflicts python34 description {Use python 3.5} {}

if {![variant_isset python34] && ![variant_isset python35]} {
    default_variants-append +python34
}

if {[variant_isset python34]} {
    set python.version  34
    set python.branch   3.4
} elseif {[variant_isset python35]} {
    set python.version  35
    set python.branch   3.5
}

depends_build       port:dblatex

depends_lib         port:gnome-doc-utils \
                    port:py${python.version}-pip \
                    port:py${python.version}-matplotlib-basemap \
                    port:py${python.version}-gobject3

depends_run         port:adwaita-icon-theme \
                    port:gnome-themes-standard \
                    port:yelp \
                    port:voacapl

use_configure       yes
use_autoconf        yes
autoconf.cmd        ./autogen.sh

post-activate {
    # requires cairocffi to generate graphs
    catch {system "pip-${python.branch} install cairocffi"}
}

livecheck.type      none

